% Emacs, this is -*- latex -*-!

\newtoggle{todos}
% Show empty space at page ends, to ease squeezing space.
% Should remove before submission.
%\raggedbottom

% For submission. These settings shouldn't be altered.
\togglefalse{todos}
% \toggletrue{todos}
\allowdisplaybreaks[1]
% For development, feel free to tune if needed.
% Allow reasonable looks without huge cost, during development.
%   \allowdisplaybreaks[1]
%   %\sloppy

%\hypersetup{pdfborder={0 0 0}}
%\hypersetup{bookmarksopenlevel=2}
%\hypersetup{colorlinks,citecolor=black,urlcolor=black,linkcolor=black}

% Customize list of backreferences.
% From https://tex.stackexchange.com/a/183735/1340
\renewcommand*{\backref}[1]{}
\renewcommand*{\backrefalt}[4]{%
    \ifcase #1%
          \or [Page~#2.]%
          \else [Pages~#2.]%
    \fi%
    }
% Explain list of backreferences.
% https://tex.stackexchange.com/a/70953/1340
\newcommand{\myBibPreambleText}{[Citing pages are listed after each reference.]}
% Alternatives:
% Pages containing citations to each reference are listed after each reference
% After each reference, we list pages containing citations.
% between square brackets, you will find a list of links to page numbers c

% Place \myBibPreambleText below "Bibliography".
\renewcommand{\bibpreamble}{%
  \vspace{-2 \bigskipamount}%
  \myBibPreambleText%
  \par \vspace{2 \bigskipamount}}

% % More robust but won't work with tocbibind, since it redefines the whole
% % shebang. Without tocbibind, however, the output is close enough (by luck?).
% \makeatletter
% \renewcommand{\bibsection}{
%   \chapter*{\bibname \\ {\normalsize\mdseries \myBibPreambleText}}
%   \@mkboth {\MakeUppercase {\bibname }}{\MakeUppercase {\bibname }}
% }
% \makeatother

% Comments
\iftoggle{todos}{%
\newcommand{\mynote}[2]{
  \textcolor{red}
  {
  {\bfseries\sffamily\scriptsize#1}
  {\small$\blacktriangleright$\textsf{\emph{#2}}$\blacktriangleleft$}}}
}{%
\newcommand{\mynote}[2]{}
}

\newcommand{\todo}{\mynote}

\newcommand{\tr}{\todo{TR}}
\newcommand{\pg}{\todo{PG}}
\newcommand{\ko}{\todo{KO}}
\newcommand{\yc}{\todo{YC}}
\newcommand{\ps}{\todo{PS}}
\newcommand{\yrg}{\todo{YRG}}
\newcommand{\chk}{\todo{CK}}
\newcommand{\mei}{\todo{ME}}
\newcommand{\rmi}{\todo{RM}}

% Allow using λ in section headers and having it show in PDF bookmarks.
% http://tex.stackexchange.com/a/142906/1340
% Part 1 in packages.tex:
%\usepackage[verbose]{newunicodechar}
% Part 2 in thesis.
% \newunicodechar{⊕}{\texorpdfstring{\ensuremath{\oplus}}{⊕}}
% \newunicodechar{Δ}{\texorpdfstring{\ensuremath{\Delta}}{Δ}}
% \newunicodechar{τ}{\texorpdfstring{\ensuremath{\tau}}{τ}}
% \newunicodechar{λ}{\texorpdfstring{\ensuremath{\lambda}}{λ}}
% \newunicodechar{→}{\texorpdfstring{\ensuremath{\rightarrow}}{→}}
% Part 3 (just for old users).
\DeclareRobustCommand{\TitleLambda}{λ}
