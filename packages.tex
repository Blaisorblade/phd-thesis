% Emacs, this is -*- latex -*-!

\usepackage{mylhs2tex} % lhs2TeX setup

\usepackage{listings}
% Used with listings
\usepackage[scaled=0.88]{beramono} % http://wbillingsley.blogspot.de/2008/06/latex-monospace-bold-computer-modern.html

\usepackage[square,semicolon]{natbib}
% ToC entries for ToC, LoT, LoF, Bib
% https://tex.stackexchange.com/a/244746/1340
\usepackage{tocbibind}
\usepackage{rotating}
\usepackage{amsmath}
\usepackage{comment}
\usepackage[shortlabels]{enumitem}
% From https://tex.stackexchange.com/a/7856/1340:
\usepackage{tocloft}
\setlength{\cftsecnumwidth}{2.3em + 1ex} % 1ex extra for section numbers
\setlength{\cftsubsecindent}{3.8em + 1ex} % also shift subsections by 1ex
\setlength{\cftfignumwidth}{2.3em + 1ex} % 1ex extra for section numbers
\usepackage[T1]{fontenc}
% Ways to unbreak fonts, from https://tex.stackexchange.com/q/227063/1340.
% TODO: enable either option.
% Most conservative choice.
%\usepackage{fix-cm}
% I usually prefer lmodern, but more different, so should recheck the rest of
% the thesis.
\usepackage{lmodern}
% I just noticed the problem in the titlepage, so for now I just fix it there.
% Also headings for \part, \chapter etc. are affected, but they don't look so
% wrong so ignoring for now.
\usepackage[utf8]{inputenc}
\usepackage{xparse}
% Kerning thinspace around ---.
% https://tex.stackexchange.com/a/109188/1340
\usepackage[kerning=true]{microtype}
\SetExtraKerning
    {encoding =  {OT1,T1,T2A,LY1,OT4,QX,T5,EU1,EU2}} % all text
    {
        \textemdash  = {167,167} % thinspace = 1/6 em
    }

%Useful for highlighting boxes, but unused yet.
%\usepackage{mdframed}

\usepackage{subcaption}

% This package allows hyphenation of compound words. Use \-/
% instead of - as hyphen to allow hyphenation elsewhere. Use \=/
% to additionally specify that hyphenation right after the dash
% is forbidden. However, this package with this setting redefines
% \- and \=!

\usepackage[shortcuts]{extdash}

\usepackage{etoolbox} %For newtoggle

% Introduce environment oldSec for material which we commented out but might
% still have bits to save:
\excludecomment{oldSec}
% Replace the above line with:
%\includecomment{oldSec}
% to comment those sections back in.
\newenvironment{optionalproof}{\begin{proof}}{\end{proof}}
\newenvironment{optionallemma}{\begin{lemma}}{\end{lemma}}

\usepackage{array}
\usepackage{booktabs}
\usepackage{mathpartir}

% Only used, for now, in pldi14/sec-rw for $\lambda$-diff's fractions.
% From https://tex.stackexchange.com/a/381565/1340.
\usepackage{xfrac}

% FROM POPL18
\usepackage{multicol}

% HEAVYWEIGHT (from 2s to 2.5s compile time), enable as late as possible.
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{xcolor}
% Enable backward-incompatible tikz bugfixes. Here, it saves wasted space for graphs.
\pgfplotsset{compat=1.14}
% Build tikz pictures into separate files. Enabled by
%\tikzexternalize in main document.
\usetikzlibrary{external}
\tikzset{external/system call={pdflatex -fmt=thesis-main.fmt \tikzexternalcheckshellescape -halt-on-error -interaction=batchmode -jobname "\image" "\texsource"}}

% Theorem setup.
\usepackage[amsmath,thmmarks,amsthm]{ntheorem}
\usepackage{thmtools}
\usepackage{thm-restate}
%
% Allow to hyphenate URLs on hyphens.
\PassOptionsToPackage{hyphens}{url}
% Load hyperref as last package
% (http://www.tex.ac.uk/cgi-bin/texfaq2html?label=hyperdupdest), except for
% bookmark (which would otherwise load hyperref with other options).
\usepackage[unicode=true,breaklinks=true,backref=page]{hyperref}
\usepackage{bookmark}

% Allow using Î» in section headers and having it show in PDF bookmarks.
% http://tex.stackexchange.com/a/142906/1340
% Part 1:
\usepackage[verbose]{newunicodechar}
