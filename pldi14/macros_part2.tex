% Hey Emacs this is -*- latex -*-
% The next package must be loaded last.
% It adds the \cref{label} command, producing Eq./Sec./whatever followed by the reference.
\usepackage[capitalise]{cleveref}

\crefname{section}{Sec.}{Sec.}
\crefname{subsection}{Sec.}{Sec.}
\crefname{subsubsection}{Sec.}{Sec.}


% Theorems, lemmas, corollaries
% Typeset in roman to avoid known TeX feature
% (bad spacing between italic text and math formulas)
%
% Numbering:
% Theorem 3.1. It always rains.
% Lemma 3.2. If it rains, then the weather is bad.
% Corollary 3.3. The weather is always bad.
%
% http://tex.stackexchange.com/a/67251

%\theoremstyle{definition}
% \theoremstyle{break}
% \declaretheoremstyle[
%   spaceabove=6pt, spacebelow=6pt,
%   headfont=\normalfont\bfseries,
%   notefont=\mdseries, notebraces={(}{)},
%   bodyfont=\normalfont,
%   break=true,
%   qed=\qedsymbol
% ]{mystyle}
% %\declaretheoremstyle[bodyfont=\normalfont,postheadspace={\newline}]{mystyle}
% \theoremstyle{mystyle}
% \input{pldi14/QED}
\theoremstyle{break}
\theorembodyfont{\upshape}
\theoremsymbol{\ensuremath{_\Box}}
\declaretheorem[numberwithin=section,refname={Theorem,Theorems}]{theorem}
\declaretheorem[numberlike=theorem,refname={Fact,Facts}]{fact}
\declaretheorem[numberlike=theorem,refname={Lemma,Lemmas}]{lemma}
\declaretheorem[numberlike=theorem,refname={Corollary,Corollaries}]{corollary}
\declaretheorem[numberlike=theorem,refname={Definition,Definitions}]{definition}
% \declaretheorem[numberlike=theorem,name=Plugin Requirement]{parameter}
\declaretheorem[numberlike=theorem,name=Plugin Requirement,refname={Plugin Requirement,Plugin Requirements}]{requirement}
\declaretheorem[numberlike=theorem,name=Remark,refname={Remark,Remarks}]{remark}
\declaretheorem[numberlike=theorem,name=Example,refname={Example,Examples}]{examples}
\declaretheorem[numberlike=theorem,name=Example,refname={Example,Examples}]{example}
\declaretheorem[numberlike=theorem,name=Slogan,refname={Slogan,Slogans}]{slogan}
% XXX Should *THESE* be numbered? Hopefully not?
\declaretheorem[numberlike=theorem,name=Notation,refname={Notation,Notation}]{notation}
\declaretheorem[numberlike=theorem,refname={Conjecture,Conjecture}]{conjecture}


% \newtheorem{theorem}{Theorem}
% % http://tex.stackexchange.com/a/45358/1340
% % \numberwithin{section}{chapter} % From AMS Author FAQ (http://www.ams.org/faq?class_id=561), makes no difference?
%\numberwithin{theorem}{section}
% \newtheorem{lemma}[theorem]{Lemma}
% \newtheorem{corollary}[theorem]{Corollary}
% \newtheorem{definition}[theorem]{Definition}
% \newtheorem{parameter}[theorem]{Plugin Requirement}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Enumerations inside theorem environments
%
% (cannot be in macros.tex because of \crefname)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newlist{subdefinition}{enumerate}{1}
\setlist*[subdefinition]{label=(\alph*), ref=\arabic{chapter}.\arabic{section}.\arabic{theorem}\alph*}
\crefname{subdefinitioni}{Property}{Properties}
\Crefname{subdefinitioni}{Property}{Properties}

\newlist{subparameter}{enumerate}{1}
\setlist*[subparameter]{label=(\alph*), ref=\arabic{chapter}.\arabic{section}.\arabic{theorem}\alph*}
\crefname{subparameteri}{Plugin Requirement}{Plugin Requirements}
\Crefname{subparameteri}{Plugin Requirement}{Plugin Requirements}

\newlist{subtheorem}{enumerate}{1}
\setlist*[subtheorem]{label=(\alph*), ref=\arabic{chapter}.\arabic{section}.\arabic{theorem}\alph*}
\crefname{subtheoremi}{Theorem}{Theorems}
\Crefname{subtheoremi}{Theorem}{Theorems}
